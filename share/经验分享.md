​	写下这篇文章是想聊一下第一次自己成功用git个分布式版本控制系统提交pr（pull request），将这段时间内的遇到的些问题和经验分享给大家，通过学习和复盘和大家一起进步。

## 项目背景

​	我的大学同学，这里我就称他老王。他在github上创建一个 OS-EDU /KO--CSP 的项目，主要是更新有关大学本科阶段所常见的考试题目讲解。例如PAT、CCF认证以及计算机专业研究生复试上机题目之类等内容。他在初期邀请了我参加这个项目，我也答应下来。在这期间知道了什么是markdown，在花了几天时间学习了markdown语法。我很惊讶会有如此神奇的语言，现在我有时写点内容、做笔记 Typora+markdown 都会成为我的首选。所以在这里建议小伙伴花点时间将这些学一学。不必拘于非要把所有的内容都学完之后在上手，碰到没掌握或不太熟悉的知识点，Google / 百度 官方文档，边用边学。另外对于 git 和 github 有所初期了解，并学习了git一些中基础的内容。因为自身的原因（可能我有点懒），对于这个项目没有很好的坚持下去，所学的内容只是一知半解，很长几个月没有为项目提供过代码，换句话就是相当于退出了项目，后期陆陆续续加入了他志同道合的伙伴，这个项目现在也在github上正常运行。在这方面我对老王、传奇等人表示忏愧，对我的半途而废表示抱歉。

## 重启

​	这个学期开学也有一个多月了，和老王的交流也一直进行，我提出了进入项目的请求，老王也同意了我的请。所做的第一件事就是重新拾起前期学的git，对git的工作流程、git中的工作区、暂存区、版本库和 git 创建仓库都要了解掌握。

​	因为之前学习过git，再次重新拾起上手也比较快，对于一些简单的知识点：初始化仓库，fork、clone仓库，常见的命令行 **git add** 、**git commit**、**git status** 等不做过多详细的使用介绍，具体地可以参见官方文档和其他一些视频教程。写这篇文章的目的是想详述我在提交第一个pr的过程，给小白一些参考的方向。

## 操作

此外我所提倡**实用主义**，所谓实用主义，就是掌握一下基本命令就可以玩转 Git，轻松应对90%以上的需求，以下是实用主义型的 Git 命令列表：

1. git clone
2. git config
3. git branch 
4. git checkout
5. git status
6. git add
7. git commit
8. git push
9. git pull
10. git log

这些是每一个开发者远程办公时必掌握的一些命令，把它们列出来是希望大家可以熟练掌握，对于下面我所写的提交 pr 的过程并不全部涉及到这些命令。

接下来我将讲解使用 git 提交我的第一个完整pr到原有仓库。

如果你是团队外的成员，首先将仓库fork一下，这是对原有仓库的克隆，克隆一个仓库允许你自由试验各种改变，而不会影响原始的项目。

+ git clone ：从服务器拉取代码，将项目克隆到本地,以KO--CSP项目为例，在自己电脑下选择一个合适的路径，实行以下操作：

  ```markdown
  git clone https://github.com/glyco99/KO--CSP.git
  ```

  若操作成功，会在路径下生成一个KO--CSP的文件夹，一个原仓库就会被克隆到本地，并且已经被初始化（git init），此外还需要做一些配置工作。

+ git config ：配置开发者用户和邮箱，全局范围内的签名设置

  ``` 
  git config --global 用户名  // 配置用户姓名
  git config --global 邮箱 // 配置用户邮箱
  ```

  签名的作用是区分不同操作者身份，用户的签名信息在每一个版本的提交信息中能够看到，以此来确认本次提交是谁做的。所以在首次安装git必须设置一下用户签名，只需配置一次即可。

  注意配置签名信息的用户名和邮箱不需要和你注册github使用的信息一样，签名信息只是来确认这次的代码是由谁来提交，更不会发邮件信息来提醒你。

+ git remote add ：关联远程仓库

  ``` 
  git remote add origin 远程仓库地址
  ```

  注：在我学习git的时候，这一步又被称为起别名，**origin** 可以被看作你起的一个小名，这个名称你可以随意更改，我常见的都是使用 **origin**，使用什么名称看你个人习惯都可。

  为什么非要关联远程仓库呢？

  想象一下，假设我们在本地修改了内容，并想将它提交到自己的远程仓库，在没有关联远程仓库时，使用的命令：

  ```
  git push https://github.com/glyco99/KO--CSP.git main
  ```

  弊端立刻显示出，难道每一次向上推送都要写这个长串的地址吗，你还不一定能记住，关联仓库的必要性就显现出来了。

  当你关联仓库之后，使用：

  ```
  git remote -v
  // 查看关联的仓库，简单提及一下
  ```

+ 前三步操作正确，接下来根据原仓库中的issue，对仓库内容进行增删改等一系列操作，使用：

  ````
  git add 文件名/.
  // 将文件添加到暂存区
  
  git commit -m"提交信息" 
  // 将暂存区的文件提交至本地库
  ````

  每一次修改内容之后，这两步都是必须做的。其中 git add 后若是英文字符的 . ，代表将所有的文件提交至暂存区。

  至于 git commit 后的提交信息，对于一个专业规划的项目，提交信息的格式和内容都会有不同的要求，我们也可以参考 [angular 提交规范](https://github.com/angular/angular.js/blob/master/DEVELOPERS.md) 

  此外简单说明一下命令：

  ``` 
  git status 
  // 检查当前文件的状态，是在暂存区还是被提交到本地库中
  ```

  说明：当我们再次对文件进行了修改，git add 、git commit -m 要重新使用，因此也看出这两个命令虽然简单但是是必须的（你都不用这俩命令，你提交个球球啊）

以上步骤完成，说明我们在本地库的操作都已成功进行，接下来是如何推送到自己的远程仓库去，出现了各种问题，我曾在这一步花了许多时间，看了不同的教程。在这里希望同大家分享

 1. 本地库的路径错误。推送内容到远程仓库，其 git 命令窗口一定要在根目录下。以 KO--CSP 文件为例，此文件夹下还有一个子文件夹 PAT ,当修改内容以提交到本地库中，正确的路径：

    ``` 
    f/KO--CSP(main)
    // KO--CSP 文件夹在我的 f 盘符下，且默认的是main分支
    ```

     不合格的路径：

    ```
    f/KO--CSP/PAT(main)
    ```

2. 未同步远程仓库。在提交内容时，首先将远程仓库的项目拉取到本地库：

    ```
    git pull origin main
    // 别名默认是 origin ，默认分支是 main
    ```

    原因:可能会有人比你提前提交内容到远程仓库，这时你的本地库和远程仓库的内容就不是一致的，在使用 git push 之前一定要用 git pull 同步仓库动态。

3. 服务器的SSL证书没有经过第三方签署。我将问题的解决方法放在这里，碰到这种情况请参考 [SSL证书解决方法](https://blog.csdn.net/m0_37052320/article/details/77799413) 

4. 网络原因。有时会出现 **error :10054**、**Time out**，诸如次的原因，最大可能性是因为你的网络问题，我的解决方法是多试几次，或者关掉再重启一个 git bash 窗口重新 push 。毕竟 github 的服务器在国外，从国内访问速度方面不如人意，如果会科学上网问题不大，反之不会请另寻Google/百度自行解决，这里不予介绍。

如果这些操作你都成功完成，回到自己的远程仓库，检查无误后向原仓库提交 pr 。以上是我在提交第一个正确无误的 pr 的过程，我想把它写出来，对于和我一样的小白会是一个有用的帮助。虽然没有这么透彻详细，但我还是愿意将我所感记录成文章。

对于其他方面我所遇到的问题如创建、切换、修改、推送、合并分支等问题没有进行一个详细的解释。一步步的走，将最基本的流程搞清楚吃通透，这些可能在日后的文章在进行解释。

## 感受

在我所学 git ，了解 Typora+markdown 并用它来写文章，还有我对学习方面的最大两点感受：

1. 多实践多操作。以前的我总有个毛病，在看视频教程喜欢总是一口气交所有视频看完，最后在上手操作，我得出的结论是这是大忌。尤其对于像工科专业的学生，动手实践才能检验自身的能力，暴露自己最大的弊病。
2. 学好英语。不需要非常专业的英语语法分析能力，只需掌握基本的阅读能力，像 git 、shell、Tomcat 等，在开发真遇到问题的时候会到官网查看官方文档来解决疑难，没有什么是比官方文档更适合的文档。而恰恰这些大多数的内容都是英文。

愿这篇文章能够给到一些人启发和帮助，本人的写作水平一般，有些地方写的不够透彻，可能存在错误的地方，也希望各位同仁可以提出合理的建议并给予指导，发现错误给予纠正。

这是我们项目的[OS--EDU参与贡献指南](https://os-edu.github.io/contribution/add_contributing_guide/) ，热烈欢迎小伙伴可以加入我们。





































