---
title : "磕磕绊绊走正轨"
date : 2021-05-16
---

> 作者 ：高习东

写下这篇文章是想聊一下第一次自己成功用 git 提交 pr（pull request），将这段时间内的遇到的些问题和经验分享给大家 ，通过学习和复盘和大家一起进步 。

### 一、项目背景

​	我的大学同学 ，这里我就称他大政 。他在 github 上创建一个 OS-EDU /KO--CSP 的项目 ，主要是更新有关大学本科阶段所常见的考试题目讲解 。例如 PAT、CCF 认证以及计算机专业研究生复试上机题目之类等内容 。他在初期邀请了我参加这个项目 ，我也答应下来 。在这期间知道了什么是 markdown ，在花了几天时间学习了 markdown 语法 。我很惊讶会有如此神奇的语言 ，现在我有时写点内容 、做笔记 Typora+markdown 都会成为我的首选 。所以在这里建议小伙伴花点时间将这些学一学 。不必拘于非要把所有的内容都学完之后在上手 ，碰到没掌握或不太熟悉的知识点 ，Google / 百度 官方文档 ，边用边学 。另外对于 git 和 github 有所初期了解 ，并学习了 git 中一些基础的内容 。因为自身的原因（可能我有点懒），对于这个项目没有很好的坚持下去 ，所学的内容只是一知半解 ，很长几个月没有为项目提供过代码 ，换句话就是相当于退出了项目 ，后期陆陆续续加入了他志同道合的伙伴 ，这个项目现在也在 github 上正常运行 。在这方面我对大政 、传琪 、志豪等伙伴表示忏愧 ，对我的半途而废表示抱歉 。

​	至于为什么退出了项目呢 ？当时我面临的困境还有上手的情况想和大家简单聊一聊 ，总结原因主要有几点 ：

1. 光看不练容易放弃 。在当时大政邀请我参加项目时 ，所需掌握的内容 git 、Hugo 都是我第一次接触 ，也是第一次听这名字 。在此之后上 Bilibili（简称 B 站）寻找教程学习 。学习的途中我烦了一个致命错误——光看不练 ，视频教程一口气看完了觉得很爽 ，这个知识也没有这么难嘛 。后期开始动手做的时候我尝到了恶果 ：暂存区 、缓存区 、本地库 ，这都是什么乱七八糟的东西啊 ；（可能现在看来这些问题很容易就可以找出答案 ，但当时我的情况就是如此糊涂 ，脑袋里乱七八糟 ，根本就没在脑海构建一个 git 命令的总体结构图）

2. 自身的惰性 。我是一个懒人 ，换句话说我总是将事情一拖再拖 。就比如 ，今天时间有点晚了 ；晚上喜欢看的电影节目就要出了 ；先出去跟朋友耍一耍 ，晚上回来在做 ；总是喜欢找借口推脱事情 ，日积月累 ，问题越来越多 ，心里愈发烦躁 ，问题太多往往无法解决 ，久而久之对 OS-EDU /KO--CSP 项目不在关注 。

3. 问题积压太多不愿解决 。像我上一点提到过问题太多往往无法解决 ，为什么你有问题却不去解决呢 ？不知道各位读者是怎么想的 ，说一说当时我的想法吧 ：
   + 我们几个水平差不多 ，你会这个难道我也不会吗 ，我还要去问你，那多丢面子，咋好意思呢 。
   + 万一我去问他们 ，他们说可以上网搜索到解决办法 ，可是我搜索了没有找到办法 。他们说可以找到我却没有找到 ，还要去问别人 ，会觉得不好意思 。
   

我很感谢大政 、传琪 、志豪等伙伴的平日帮助 ，现在的我改变了很多 ，毛病缺点正在慢慢消失 。我想一是我参加了 KO--CSP 项目 ，让我变得积极主动 ，二十离不开伙伴们的帮助 。总之一句话 ，**只要能提升自己的能力 ，就别怕问** 。

### 二、重启

​	这个学期开学也有一个多月了，这期间大政的交流也一直进行 ，我提出了进入项目的请求 ，大政也同意了我的请求 。至于我再次申请重新加入项目 ，在内心和想法方面相较第一次大政邀请我加入有了更深刻的认识和变化 。

​	项目的开始大政邀请了我和传琪 ，上文也说过了 ，自己的各个原因退出了项目 ，传琪一直在为项目做贡献 ，提交 pr ，从我俩加入 KO--CSP 项目以来几个月 ，我没有关注项目 ，更不知传琪的水平如何 ，这次一了解 ，却是挺吃惊 。我俩的水平从起步相差不大 ，他坚持了我没有 ，在一次和大政的交流 ，他对我说现在项目的大多都让传琪来托管 ，我的内心 ：对传琪的佩服 ，同一起点的人 ，现在的差距显而易见。

​	前不久 ，大政三人一起去参加 2050 大会 ，我对大会没有过了解 ，但了解到会议的发起人是由王坚院士 —— 阿里云的创始人发起 ，对他的大名和事迹我只从电视中了解到 ，中国云计算的推动者 。以及道哥 —— 吴翰清 ，这位的名字当年网络上盛传 ，去阿里面试以三分钟不到黑了阿里的网络 ，被阿里高薪录取 ，虽说后来已经被澄清是谣言 。但道哥的能力水平毋庸置疑的 。可以面对面的与他们交流探讨 ，这种羡慕没有那是假的 。如果当初的我坚持到现在 ，也许能够和他们站在同一个平台 。

​	也许基于以上心理 状态 ，我申请重新加入项目 ，我很感谢我的伙伴们第一时间内欢迎我的加入 ，他们对我进行了各方面的帮助 ，在最短时间内融入团队 。而我所做的第一件事就是重新拾起前期学的 git ，对 git 的工作流程 、git 中的工作区 、暂存区 、版本库和 git 中基础命令的熟练掌握运用 、仓库的概念等内容重新学习 。

​	因为之前学习过 git ，再次重新拾起上手也比较快 ，对于一些简单的知识点 ：初始化仓库 ，fork 、clone 仓库 ，常见的命令行 `git add` 、`git commit`、`git status` 等不做过多详细的使用介绍 ，具体地可以参见官方文档和其他一些视频教程 。写这篇文章的目的是想详述我在提交第一个 pr 的过程 ，给小白一些参考的方向 。

### 三、记录

​	此外我所提倡**实用主义 **，所谓实用主义 ，就是掌握一下基本命令就可以玩转 Git ，轻松应对90%以上的需求 ，以下是实用主义型的 Git 命令列表 ：

1. `git clone`
2. `git config`
3. `git branch`
4. `git checkout`
5. `git status`
6. `git add`
7. `git commit`
8. `git push`
9. `git pull`
10. `git log`

这些是每一个开发者远程办公时必掌握的一些命令 ，把它们列出来是希望大家可以熟练掌握 ，对于下面我所写的提交 pr 的过程并不全部涉及到这些命令 。

接下来我将讲解使用 git 提交我的第一个完整pr到原有仓库 。

如果你是团队外的成员 ，首先将仓库 fork 一下 ，这是对原有仓库的克隆 ，克隆一个仓库允许你自由试验各种改变 ，而不会影响原始的项目 。

+ `git clone` ：从服务器拉取代码 ，将项目克隆到本地,以 KO--CSP 项目为例 ，在自己电脑下选择一个合适的路径 ，实行以下操作 ：

  ```markdown
  git clone https://github.com/glyco99/KO--CSP.git
  ```

  若操作成功 ，会在路径下生成一个 KO--CSP 的文件夹 ，一个原仓库就会被克隆到本地 ，并且已经被初始化（`git init`），此外还需要做一些配置工作 。

+ `git config` ：配置开发者用户和邮箱 ，全局范围内的签名设置

  ``` 
  git config --global 用户名  // 配置用户姓名
  git config --global 邮箱 // 配置用户邮箱
  ```

  签名的作用是区分不同操作者身份 ，用户的签名信息在每一个版本的提交信息中能够看到 ，以此来确认本次提交是谁做的 。所以在首次安装 git 必须设置一下用户签名 ，只需配置一次即可 。
  注意配置签名信息的用户名和邮箱不需要和你注册github使用的信息一样 ，签名信息只是来确认这次的代码是由谁来提交 ，更不会发邮件信息来提醒你 。

+ `git remote add `：关联远程仓库

  ``` 
  git remote add origin 远程仓库地址
  ```

  注：在我学习 git 的时候 ，这一步又被称为起别名 ，**origin** 可以被看作你起的一个小名 ，这个名称你可以随意更改 ，我常见的都是使用 **origin **，使用什么名称看个人习惯都可 。

  为什么要关联远程仓库呢 ？

  想象一下 ，假设我们在本地修改了内容 ，并想将它提交到自己的远程仓库 ，在没有关联远程仓库时 ，使用的命令 ：

  ```
  git push https://github.com/glyco99/KO--CSP.git main
  ```
  弊端立刻显示出 ，难道每一次向上推送都要写这个长串的地址吗 ，你还不一定能记住 ，关联仓库的必要性就显现出来了 。

  当你关联仓库之后 ，使用 ：
  ```
  git remote -v
  // 查看关联的仓库，简单提及一下
  ```
+ 前三步操作正确 ，接下来根据原仓库中的 issue ，对仓库内容进行增删改等一系列操作 ，使用 ：
  ````
  git add 文件名/.
  // 将文件添加到暂存区
  
  git commit -m"提交信息" 
  // 将暂存区的文件提交至本地库
  ````
  每一次修改内容之后 ，这两步都是必须做的 。其中 `git add` 后若是英文字符的  . ，代表将所有的文件提交至暂存区 。

  至于 `git commit -m` 后的提交信息 ，对于一个专业规划的项目 ，提交信息的格式和内容都会有不同的要求 ，我们也可以参考 [angular 提交规范](https://github.com/angular/angular.js/blob/master/DEVELOPERS.md) 

  此外简单说明一下命令 ：
  ``` 
  git status 
  // 检查当前文件的状态，是在暂存区还是被提交到本地库中
  ```
  说明 ：当我们再次对文件进行了修改 ，`git add` 、`git commit -m` 要重新使用 ，因此也看出这两个命令虽然简单但也是必须的（你都不用这俩命令 ，你提交个球球啊）

  以上步骤完成 ，说明我们在本地库的操作都已成功进行 ，接下来是如何推送到自己的远程仓库去 ，出现了各种问题 ，我曾在这一步花了许多时间 ，看了不同的教程 。在这里希望同大家分享 ：

 1. 本地库的路径错误 。推送内容到远程仓库 ，其 git 命令窗口一定要在根目录下 。以 KO--CSP 文件为例 ，此文件夹下还有一个子文件夹 PAT ，当修改内容以提交到本地库中 。
    正确的路径 ：
    ``` 
    f/KO--CSP(main)
    // KO--CSP 文件夹在我的 f 盘符下，且默认的是main分支
    ```
     不合格的路径 ：
    ```
    f/KO--CSP/PAT(main)
    ```
2. 未同步远程仓库 。在提交内容时 ，首先将远程仓库的项目拉取到本地库 ：

   ```
   git pull origin main
   // 别名默认是 origin ，默认分支是 main
   ```
   原因:可能会有人比你提前提交内容到远程仓库 ，这时你的本地库和远程仓库的内容就不是一致的 ，在使用 `git push` 之前一定要用 git pull 同步仓库动态 。

3. 服务器的 SSL 证书没有经过第三方签署 。我将问题的解决方法放在这里 ，碰到这种情况请参考 [SSL证书解决方法](https://blog.csdn.net/m0_37052320/article/details/77799413) 

4. 网络原因 。有时会出现 **error :10054 **、**Time out**，诸如次的原因 ，最大可能性是因为你的网络问题 ，我的解决方法是多试几次 ，或者关掉再重启一个 `git bash` 窗口重新 push  。毕竟 github 的服务器在国外 ，从国内访问速度方面不如人意 ，如果会科学上网问题不大 ，反之不会请另寻 Google / 百度自行解决 ，这里不予介绍 。

如果这些操作你都成功完成 ，回到自己的远程仓库 ，检查无误后向原仓库提交 pr 。以上是我在提交第一个正确无误的 pr 的过程，我想把它写出来 ，对于和我一样的小白会是一个有用的帮助 。虽然没有这么透彻详细 ，但我还是愿意将我所感记录成文章 。

对于其他方面我所遇到的问题如创建 、切换分支 ；对于推送分支而言 ，可以现在本地创建分支然后再推送到远程仓库 ，然后再进行内容的修改 ，另一种方法也可以修改结束后创建分支连同修改的内容全都推送到远程仓库 ，诸如此类问题我没有具体详述 。路要一步步的走 ，将最基本的流程搞清楚吃通透 ，这些可能在日后的文章在进行解释 。

### 四、感受
在我所学 git ，了解 Typora+markdown 并用它来写文章 ，还有我对学习方面的最大两点感受 ：
1. 多实践多操作 。以前的我总有个毛病 ，在看视频教程喜欢总是一口气交所有视频看完 ，最后在上手操作 ，我得出的结论是这是大忌 。尤其对于像工科专业的学生 ，动手实践才能检验自身的能力 ，暴露自己最大的弊病 。
2. 学好英语 。不需要非常专业的英语语法分析能力 ，只需掌握基本的阅读能力 ，像 git 、shell 、Tomcat 等 ，在开发真遇到问题的时候会到官网查看官方文档来解决疑难 ，没有什么是比官方文档更适合的文档  ，而恰恰这些大多数的内容都是英文 。
    愿这篇文章能够给到一些人启发和帮助 ，本人的写作水平一般 ，有些地方写的不够透彻 ，可能存在错误的地方 ，也希望各位同仁可以提出合理的建议并给予指导 ，发现错误给予纠正 。

### 五、贡献指南
这是我们项目的 [OS--EDU参与贡献指南](https://os-edu.github.io/contribution/add_contributing_guide/) ，欢迎伙伴们可以加入我们 。
