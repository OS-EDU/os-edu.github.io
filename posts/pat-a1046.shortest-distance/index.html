<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>PAT-A1046.Shortest Distance | OS-EDU</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=generator content="Hugo 0.71.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link href=/dist/css/app.1cb140d8ba31d5b2f1114537dd04802a.css rel=stylesheet><meta property="og:title" content="PAT-A1046.Shortest Distance"><meta property="og:description" content="PAT-A1046.Shortest Distance  作者：AKA二夕
审核：freedom
 一、题目描述 题目描述： The task is really simple: given N exits on a highway which forms a simple cycle, you are supposed to tell the shortest distance between any pair of exits.
输入格式： Each input file contains one test case. For each case, the first line contains an integer N (in [3,105]), followed by N integer distances D1 D2 ⋯ DN, where Di is the distance between the i-th and the (i+1)-st exits, and DN is between the N-th and the 1st exits."><meta property="og:type" content="article"><meta property="og:url" content="https://os-edu.github.io/posts/pat-a1046.shortest-distance/"><meta property="article:published_time" content="2021-06-19T00:00:00+00:00"><meta property="article:modified_time" content="2021-06-19T00:00:00+00:00"><meta itemprop=name content="PAT-A1046.Shortest Distance"><meta itemprop=description content="PAT-A1046.Shortest Distance  作者：AKA二夕
审核：freedom
 一、题目描述 题目描述： The task is really simple: given N exits on a highway which forms a simple cycle, you are supposed to tell the shortest distance between any pair of exits.
输入格式： Each input file contains one test case. For each case, the first line contains an integer N (in [3,105]), followed by N integer distances D1 D2 ⋯ DN, where Di is the distance between the i-th and the (i+1)-st exits, and DN is between the N-th and the 1st exits."><meta itemprop=datePublished content="2021-06-19T00:00:00+00:00"><meta itemprop=dateModified content="2021-06-19T00:00:00+00:00"><meta itemprop=wordCount content="596"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="PAT-A1046.Shortest Distance"><meta name=twitter:description content="PAT-A1046.Shortest Distance  作者：AKA二夕
审核：freedom
 一、题目描述 题目描述： The task is really simple: given N exits on a highway which forms a simple cycle, you are supposed to tell the shortest distance between any pair of exits.
输入格式： Each input file contains one test case. For each case, the first line contains an integer N (in [3,105]), followed by N integer distances D1 D2 ⋯ DN, where Di is the distance between the i-th and the (i+1)-st exits, and DN is between the N-th and the 1st exits."></head><body class="ma0 avenir bg-near-white"><header><div class=bg-black><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=https://os-edu.github.io/ class="f3 fw2 hover-white no-underline white-90 dib">OS-EDU</a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href title=page></a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href title=page></a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href title=page></a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/contribution/ title="Contributions page">Contributions</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/posts/ title="Posts page">Posts</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/shares/ title="Shares page">Shares</a></li></ul><a href=https://os-edu.github.io/ target=_blank class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel=noopener aria-label="follow on Github——Opens in a new window"><svg height="32" style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></nav></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked">POSTS</aside><div id=sharing class=mt3><a href="https://www.facebook.com/sharer.php?u=https://os-edu.github.io/posts/pat-a1046.shortest-distance/" class="facebook no-underline" aria-label="share on Facebook"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765 50.32h6.744V33.998h4.499l.596-5.624h-5.095l.007-2.816c0-1.466.14-2.253 2.244-2.253h2.812V17.68h-4.5c-5.405.0-7.307 2.729-7.307 7.317v3.377h-3.369v5.625h3.369V50.32zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></a><a href="https://twitter.com/share?url=https://os-edu.github.io/posts/pat-a1046.shortest-distance/&text=PAT-A1046.Shortest%20Distance" class="twitter no-underline" aria-label="share on Twitter"><svg height="32" style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https://os-edu.github.io/posts/pat-a1046.shortest-distance/&title=PAT-A1046.Shortest%20Distance" class="linkedin no-underline" aria-label="share on LinkedIn"><svg height="32" style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30C64 50.568 50.568 64 34 64zM26.354 48.137V27.71h-6.789v20.427H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></a></div><h1 class="f1 athelas mt3 mb1">PAT-A1046.Shortest Distance</h1><time class="f6 mv4 dib tracked" datetime=2021-06-19T00:00:00Z>June 19, 2021</time></header><div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><h1 id=pat-a1046shortest-distance>PAT-A1046.Shortest Distance</h1><blockquote><p>作者：AKA二夕</p><p>审核：freedom</p></blockquote><h2 id=一题目描述>一、题目描述</h2><h3 id=题目描述>题目描述：</h3><p>The task is really simple: given <em>N</em> exits on a highway which forms a simple cycle, you are supposed to tell the shortest distance between any pair of exits.</p><h3 id=输入格式>输入格式：</h3><p>Each input file contains one test case. For each case, the first line contains an integer <em>N</em> (in [3,105]), followed by <em>N</em> integer distances <em>D</em>1 <em>D</em>2 ⋯ <em>DN</em>, where <em>Di</em> is the distance between the <em>i</em>-th and the (<em>i</em>+1)-st exits, and <em>DN</em> is between the <em>N</em>-th and the 1st exits. All the numbers in a line are separated by a space. The second line gives a positive integer <em>M</em> (≤104), with <em>M</em> lines follow, each contains a pair of exit numbers, provided that the exits are numbered from 1 to <em>N</em>. It is guaranteed that the total round trip distance is no more than 107.</p><h3 id=输出格式>输出格式：</h3><p>For each test case, print your results in <em>M</em> lines, each contains the shortest distance between the corresponding given pair of exits.</p><h3 id=输入样例>输入样例：</h3><pre><code class=language-in data-lang=in>5 1 2 4 14 9
3
1 3
2 5
4 1
</code></pre><h3 id=输出样例>输出样例：</h3><pre><code class=language-out data-lang=out>3
10
7
</code></pre><hr><h2 id=二题目分析>二、题目分析</h2><h4 id=1题意理解>1、题意理解</h4><p>由于 PAT 题库中 A 系列的题目描述都是英文文档，但是咱们不要怕，大喊一声都是：“paper tiger”。下面简单来描述一下题意：</p><p>有 N 个结点围成一个圈，相邻两个点之间的距离已知，且每次只能移动到相邻点。然后给出 M 个询问，每个询问给出两个数字 A 和 B，即结点编号（1 &lt;= A, B &lt;= N），求从 A 号结点到 B 号结点的最短距离。</p><h4 id=2举栗子>2、举栗子</h4><p><img src=https://raw.githubusercontent.com/QuakeWang/Figure-bed/master/PAT/PAT-A1046.png alt=PAT-A1046></p><p>如上图所示，共有 5 个结点，分别标号为 V1、V2、V3、V4、V5，相邻两点的距离在图上给出。总共三个询问：</p><p>1 3：从 1 号点到 3 号点的最短距离为 3，路径为 1 —> 2 —> 3；</p><p>2 5：从 2 号点到 5 号点的最短距离为 10，路径为 2 —> 1 —> 5；</p><p>4 1：从 4 号点到 1 号点的最短路径距离为 7，路径为 4 —> 3 —> 2 —> 1。</p><h4 id=思路分析>思路分析</h4><p><strong>步骤①</strong>：以 dis[i] 表示 1 号结点按顺时针方向到达 “i 号结点顺时针方向的下一个结点”的距离（1 &lt;= i &lt;= N）。sum 表示一圈的总距离。于是对每个查询 left —> right，其结果就是 dis(left, right) 与 sum - dis(left, right) 中的较小值；</p><p><strong>步骤②</strong>：dis 数组和 sum 在读入时就可以进行累加得到。这样对每一个查询 left —> right，dis(left, right) 其实就是 dis[right - 1] - dis[left - 1]。这样从而可以做到查询复杂度为 O(1)。</p><hr><h3 id=三代码实现>三、代码实现</h3><p><strong>C++ 实现如下：</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;vector&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
{
    <span style=color:#66d9ef>int</span> n;
    scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>n);
    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> dis(n <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>); <span style=color:#75715e>// dis 数组用于存放 i 号 和 i + 1 号顶点距离
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>int</span> sum <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, left, right, query;
    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;=</span> n; i<span style=color:#f92672>++</span>)
    {
        <span style=color:#66d9ef>int</span> temp;
        scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>temp);
        sum <span style=color:#f92672>+=</span> temp;  <span style=color:#75715e>// 累加 sum
</span><span style=color:#75715e></span>        dis[i] <span style=color:#f92672>=</span> sum; <span style=color:#75715e>// 预处理 dis 数组
</span><span style=color:#75715e></span>    }
    scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>query);
    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> query; i<span style=color:#f92672>++</span>) <span style=color:#75715e>// query 个查询
</span><span style=color:#75715e></span>    {
        scanf(<span style=color:#e6db74>&#34;%d %d&#34;</span>, <span style=color:#f92672>&amp;</span>left, <span style=color:#f92672>&amp;</span>right); <span style=color:#75715e>// left -&gt; right
</span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (left <span style=color:#f92672>&gt;</span> right)              <span style=color:#75715e>// 当 left &gt; right 时交换
</span><span style=color:#75715e></span>            swap(left, right);
        <span style=color:#66d9ef>int</span> temp <span style=color:#f92672>=</span> dis[right <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>] <span style=color:#f92672>-</span> dis[left <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>];
        printf(<span style=color:#e6db74>&#34;%d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, min(temp, sum <span style=color:#f92672>-</span> temp));
    }
    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
}
</code></pre></div><p><strong>Java 实现如下：</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#f92672>import</span> java.io.BufferedReader<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> java.io.IOException<span style=color:#f92672>;</span>
<span style=color:#f92672>import</span> java.io.InputStreamReader<span style=color:#f92672>;</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Main</span> <span style=color:#f92672>{</span>
    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>String<span style=color:#f92672>[]</span> args<span style=color:#f92672>)</span> <span style=color:#66d9ef>throws</span> IOException <span style=color:#f92672>{</span> <span style=color:#75715e>// 抛出 IO 异常
</span><span style=color:#75715e></span>        <span style=color:#75715e>// 定义一个缓冲输入流
</span><span style=color:#75715e></span>        BufferedReader reader <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> BufferedReader<span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> InputStreamReader<span style=color:#f92672>(</span>System<span style=color:#f92672>.</span><span style=color:#a6e22e>in</span><span style=color:#f92672>));</span>
        String<span style=color:#f92672>[]</span> first <span style=color:#f92672>=</span> reader<span style=color:#f92672>.</span><span style=color:#a6e22e>readLine</span><span style=color:#f92672>().</span><span style=color:#a6e22e>split</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34; &#34;</span><span style=color:#f92672>);</span>
        <span style=color:#75715e>// 定义路口数、数组和总距离
</span><span style=color:#75715e></span>        <span style=color:#66d9ef>int</span> n <span style=color:#f92672>=</span> Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>parseInt</span><span style=color:#f92672>(</span>first<span style=color:#f92672>[</span>0<span style=color:#f92672>]);</span>
        <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> dis <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[</span>n <span style=color:#f92672>+</span> 1<span style=color:#f92672>];</span>
        <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> arr <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[</span>n <span style=color:#f92672>+</span> 1<span style=color:#f92672>];</span>
        <span style=color:#66d9ef>int</span> sum <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
        <span style=color:#75715e>// 遍历输入距离并存入数组
</span><span style=color:#75715e></span>        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 1<span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;=</span> n<span style=color:#f92672>;</span> i<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
            dis<span style=color:#f92672>[</span>i<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>parseInt</span><span style=color:#f92672>(</span>first<span style=color:#f92672>[</span>i<span style=color:#f92672>]);</span>
            sum <span style=color:#f92672>+=</span> dis<span style=color:#f92672>[</span>i<span style=color:#f92672>];</span>
            arr<span style=color:#f92672>[</span>i<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> sum<span style=color:#f92672>;</span>
        <span style=color:#f92672>}</span>
        <span style=color:#75715e>// 计算给定的 m 对出口之间的最短距离
</span><span style=color:#75715e></span>        <span style=color:#66d9ef>int</span> m <span style=color:#f92672>=</span> Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>parseInt</span><span style=color:#f92672>(</span>reader<span style=color:#f92672>.</span><span style=color:#a6e22e>readLine</span><span style=color:#f92672>());</span>
        <span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;</span> m<span style=color:#f92672>;</span> i<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
            String<span style=color:#f92672>[]</span> line <span style=color:#f92672>=</span> reader<span style=color:#f92672>.</span><span style=color:#a6e22e>readLine</span><span style=color:#f92672>().</span><span style=color:#a6e22e>split</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34; &#34;</span><span style=color:#f92672>);</span>
            <span style=color:#66d9ef>int</span> l <span style=color:#f92672>=</span> Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>parseInt</span><span style=color:#f92672>(</span>line<span style=color:#f92672>[</span>0<span style=color:#f92672>]);</span>
            <span style=color:#66d9ef>int</span> r <span style=color:#f92672>=</span> Integer<span style=color:#f92672>.</span><span style=color:#a6e22e>parseInt</span><span style=color:#f92672>(</span>line<span style=color:#f92672>[</span>1<span style=color:#f92672>]);</span>
            <span style=color:#75715e>// 把路口顺序转换为正序
</span><span style=color:#75715e></span>            <span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>l <span style=color:#f92672>&gt;</span> r<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
                <span style=color:#66d9ef>int</span> temp <span style=color:#f92672>=</span> l<span style=color:#f92672>;</span>
                l <span style=color:#f92672>=</span> r<span style=color:#f92672>;</span>
                r <span style=color:#f92672>=</span> temp<span style=color:#f92672>;</span>
            <span style=color:#f92672>}</span>
            <span style=color:#75715e>// 计算出最短距离并输出
</span><span style=color:#75715e></span>            <span style=color:#66d9ef>int</span> pre1 <span style=color:#f92672>=</span> arr<span style=color:#f92672>[</span>r <span style=color:#f92672>-</span> 1<span style=color:#f92672>]</span> <span style=color:#f92672>-</span> arr<span style=color:#f92672>[</span>l <span style=color:#f92672>-</span> 1<span style=color:#f92672>];</span>
            <span style=color:#66d9ef>int</span> pre2 <span style=color:#f92672>=</span> sum <span style=color:#f92672>-</span> pre1<span style=color:#f92672>;</span>
            System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span>Math<span style=color:#f92672>.</span><span style=color:#a6e22e>min</span><span style=color:#f92672>(</span>pre1<span style=color:#f92672>,</span>pre2<span style=color:#f92672>));</span>
        <span style=color:#f92672>}</span>
    <span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>
</code></pre></div><hr><h3 id=四结束语>四、结束语</h3><p>这题的难点在于如何把一个抽象的数学问题给具体到几何问题来求两个相邻结点的最短距离，数形结合是学习算法过程中必不可少的一个基本技能。</p><p>再来说说本题的几个注意事项：</p><ul><li>考虑边界值情况：即查询的两个点的编号可能会有 left > right 的情况。这种情况下，需要交换 left 和 right；</li><li>此题如果没有经历预处理 dis 数组和 sum 的做法会很容易超时。这是因为在极端情况下，每次操作都需要遍历整个数组，即有 10^5 次操作，而共有 10^4 个查询，所以极端情况会有 10^9 次操作；</li><li>之所以不把 dis[i] 设置为 1 号结点按顺时针方向到达 i 号结点的距离，是因为 N 号结点到达 1 号结点的距离无法被这个数组所保持。</li></ul><ul class=pa0></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"></aside></article></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://os-edu.github.io/>&copy; OS-EDU 2021</a><div><a href=https://os-edu.github.io/ target=_blank class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel=noopener aria-label="follow on Github——Opens in a new window"><svg height="32" style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" width="32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" width="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:"/></svg></span></a></div></div></footer><script src=/dist/js/app.3fc0f988d21662902933.js></script></body></html>